# 索引 - 快速查找指南

## 按类名查找

### A-G
- **Agent**: [04-application-layer.md](./04-application-layer.md), [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md)
- **AgentStore**: [04-application-layer.md](./04-application-layer.md), [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **AnalyzedGuideline**: [07-engine-integration.md](./07-engine-integration.md)
- **Container**: [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **DocumentDatabase**: [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **Engine**: [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **EngineContext**: [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **EngineResponse**: [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)

### G
- **GenericJourneyNodeSelectionBatch**: [07-engine-integration.md](./07-engine-integration.md), [10-class-diagrams.md](./10-class-diagrams.md), [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md)
- **Guideline**: [02-core-models.md](./02-core-models.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **GuidelineContent**: [02-core-models.md](./02-core-models.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **GuidelineDocumentStore**: [03-storage-layer.md](./03-storage-layer.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **GuidelineDTO**: [05-api-layer.md](./05-api-layer.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **GuidelineInternalRepresentation**: [06-journey-guideline-projection.md](./06-journey-guideline-projection.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **GuidelineMatch**: [07-engine-integration.md](./07-engine-integration.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **GuidelineMatcher**: [07-engine-integration.md](./07-engine-integration.md), [10-class-diagrams.md](./10-class-diagrams.md), [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **GuidelineMatchingBatch**: [07-engine-integration.md](./07-engine-integration.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **GuidelineMatchingContext**: [07-engine-integration.md](./07-engine-integration.md)
- **GuidelineMatchingResult**: [07-engine-integration.md](./07-engine-integration.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **GuidelineModule**: [04-application-layer.md](./04-application-layer.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **GuidelineRelationship**: [04-application-layer.md](./04-application-layer.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **GuidelineStore**: [03-storage-layer.md](./03-storage-layer.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **GuidelineToolAssociation**: [02-core-models.md](./02-core-models.md), [10-class-diagrams.md](./10-class-diagrams.md)

### J
- **Journey**: [02-core-models.md](./02-core-models.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **JourneyDTO**: [05-api-layer.md](./05-api-layer.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **JourneyEdge**: [02-core-models.md](./02-core-models.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **JourneyGraph**: [04-application-layer.md](./04-application-layer.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **JourneyGuidelineProjection**: [06-journey-guideline-projection.md](./06-journey-guideline-projection.md), [10-class-diagrams.md](./10-class-diagrams.md), [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **JourneyModule**: [04-application-layer.md](./04-application-layer.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **JourneyNode**: [02-core-models.md](./02-core-models.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **JourneyNodeKind**: [07-engine-integration.md](./07-engine-integration.md)
- **JourneyNodeSelectionBatch**: [07-engine-integration.md](./07-engine-integration.md), [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **JourneyNodeSelectionSchema**: [07-engine-integration.md](./07-engine-integration.md), [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md)
- **JourneyStore**: [03-storage-layer.md](./03-storage-layer.md), [10-class-diagrams.md](./10-class-diagrams.md), [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **JourneyVectorStore**: [03-storage-layer.md](./03-storage-layer.md), [10-class-diagrams.md](./10-class-diagrams.md)

### _
- **_CachedEvaluator**: [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md)
- **_JourneyEdge**: [07-engine-integration.md](./07-engine-integration.md), [10-class-diagrams.md](./10-class-diagrams.md)
- **_JourneyNode**: [07-engine-integration.md](./07-engine-integration.md), [10-class-diagrams.md](./10-class-diagrams.md)

## 按方法名查找

### A-C
- **__aenter__**: [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **add_condition**: [03-storage-layer.md](./03-storage-layer.md)
- **analyze_response**: [07-engine-integration.md](./07-engine-integration.md)
- **assemble_content**: [03-storage-layer.md](./03-storage-layer.md)
- **auto_return_match**: [07-engine-integration.md](./07-engine-integration.md)
- **build_node_wrappers**: [07-engine-integration.md](./07-engine-integration.md)
- **create**: [04-application-layer.md](./04-application-layer.md)
- **create_edge**: [03-storage-layer.md](./03-storage-layer.md)
- **create_agent**: [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **create_guideline**: [03-storage-layer.md](./03-storage-layer.md), [04-application-layer.md](./04-application-layer.md), [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **create_journey**: [03-storage-layer.md](./03-storage-layer.md), [04-application-layer.md](./04-application-layer.md), [08-complete-flow.md](./08-complete-flow.md), [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **create_node**: [03-storage-layer.md](./03-storage-layer.md)

### D-F
- **delete**: [04-application-layer.md](./04-application-layer.md)
- **embed**: [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **evaluate_guideline**: [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md)
- **evaluate_journey**: [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md)
- **execute_tools**: [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **delete_guideline**: [03-storage-layer.md](./03-storage-layer.md), [04-application-layer.md](./04-application-layer.md)
- **delete_journey**: [03-storage-layer.md](./03-storage-layer.md), [04-application-layer.md](./04-application-layer.md)
- **find**: [04-application-layer.md](./04-application-layer.md)
- **find_relevant_journeys**: [03-storage-layer.md](./03-storage-layer.md)
- **find_relationships**: [04-application-layer.md](./04-application-layer.md)
- **find_tool_associations**: [04-application-layer.md](./04-application-layer.md)
- **format_journey_node_guideline_id**: [06-journey-guideline-projection.md](./06-journey-guideline-projection.md)

### G-L
- **generate**: [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **get_journey_transition_map_text**: [07-engine-integration.md](./07-engine-integration.md), [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md)
- **get_pruned_nodes**: [07-engine-integration.md](./07-engine-integration.md)
- **internal_representation**: [06-journey-guideline-projection.md](./06-journey-guideline-projection.md)
- **list_edges**: [03-storage-layer.md](./03-storage-layer.md)
- **list_guidelines**: [03-storage-layer.md](./03-storage-layer.md)
- **list_journeys**: [03-storage-layer.md](./03-storage-layer.md)
- **list_nodes**: [03-storage-layer.md](./03-storage-layer.md)

### M-R
- **load_context**: [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **match_guidelines**: [07-engine-integration.md](./07-engine-integration.md), [08-complete-flow.md](./08-complete-flow.md), [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **process**: [07-engine-integration.md](./07-engine-integration.md), [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **process_message**: [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **project_journey_to_guidelines**: [06-journey-guideline-projection.md](./06-journey-guideline-projection.md), [08-complete-flow.md](./08-complete-flow.md), [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **read**: [04-application-layer.md](./04-application-layer.md)
- **read_guideline**: [03-storage-layer.md](./03-storage-layer.md), [04-application-layer.md](./04-application-layer.md)
- **read_journey**: [03-storage-layer.md](./03-storage-layer.md), [04-application-layer.md](./04-application-layer.md), [08-complete-flow.md](./08-complete-flow.md)
- **remove_condition**: [03-storage-layer.md](./03-storage-layer.md)
- **remove_tag**: [03-storage-layer.md](./03-storage-layer.md)

### S-U
- **select_next_node**: [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **set_metadata**: [03-storage-layer.md](./03-storage-layer.md)
- **start_parlant**: [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **transition_to**: [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **unset_metadata**: [03-storage-layer.md](./03-storage-layer.md)
- **update**: [04-application-layer.md](./04-application-layer.md)
- **update_guideline**: [03-storage-layer.md](./03-storage-layer.md), [04-application-layer.md](./04-application-layer.md)
- **update_journey**: [03-storage-layer.md](./03-storage-layer.md), [04-application-layer.md](./04-application-layer.md)
- **update_state**: [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **upsert_tag**: [03-storage-layer.md](./03-storage-layer.md)

## 按概念查找

### 数据模型
- **Guideline 模型**: [02-core-models.md](./02-core-models.md)
- **Journey 模型**: [02-core-models.md](./02-core-models.md)
- **关联关系**: [02-core-models.md](./02-core-models.md)

### 存储层
- **GuidelineDocumentStore**: [03-storage-layer.md](./03-storage-layer.md)
- **JourneyVectorStore**: [03-storage-layer.md](./03-storage-layer.md)
- **双存储架构**: [03-storage-layer.md](./03-storage-layer.md)
- **向量搜索**: [03-storage-layer.md](./03-storage-layer.md)

### 应用层
- **GuidelineModule**: [04-application-layer.md](./04-application-layer.md)
- **JourneyModule**: [04-application-layer.md](./04-application-layer.md)
- **关系管理**: [04-application-layer.md](./04-application-layer.md)
- **生命周期管理**: [04-application-layer.md](./04-application-layer.md)

### API 层
- **RESTful API**: [05-api-layer.md](./05-api-layer.md)
- **DTO 对象**: [05-api-layer.md](./05-api-layer.md)
- **Mermaid 图表**: [05-api-layer.md](./05-api-layer.md)
- **授权策略**: [05-api-layer.md](./05-api-layer.md)

### 投影机制
- **JourneyGuidelineProjection**: [06-journey-guideline-projection.md](./06-journey-guideline-projection.md)
- **投影算法**: [06-journey-guideline-projection.md](./06-journey-guideline-projection.md)
- **Guideline ID 格式**: [06-journey-guideline-projection.md](./06-journey-guideline-projection.md)
- **元数据结构**: [06-journey-guideline-projection.md](./06-journey-guideline-projection.md)

### 引擎集成
- **GuidelineMatcher**: [07-engine-integration.md](./07-engine-integration.md)
- **JourneyNodeSelectionBatch**: [07-engine-integration.md](./07-engine-integration.md)
- **节点类型**: [07-engine-integration.md](./07-engine-integration.md)
- **LLM 推理**: [07-engine-integration.md](./07-engine-integration.md)
- **路径验证**: [07-engine-integration.md](./07-engine-integration.md)

### 完整流程
- **创建 Journey**: [08-complete-flow.md](./08-complete-flow.md)
- **执行 Journey**: [08-complete-flow.md](./08-complete-flow.md)
- **查询 Journey**: [08-complete-flow.md](./08-complete-flow.md)
- **性能优化**: [08-complete-flow.md](./08-complete-flow.md)

### 协作机制
- **条件关联模式**: [09-collaboration-mechanism.md](./09-collaboration-mechanism.md)
- **投影转换模式**: [09-collaboration-mechanism.md](./09-collaboration-mechanism.md)
- **标签关联模式**: [09-collaboration-mechanism.md](./09-collaboration-mechanism.md)
- **数据流向**: [09-collaboration-mechanism.md](./09-collaboration-mechanism.md)
- **设计决策**: [09-collaboration-mechanism.md](./09-collaboration-mechanism.md)

### 可视化
- **类图**: [10-class-diagrams.md](./10-class-diagrams.md)
- **序列图**: [10-class-diagrams.md](./10-class-diagrams.md), [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md)
- **数据流图**: [10-class-diagrams.md](./10-class-diagrams.md), [14-method-call-chains.md](./14-method-call-chains.md)
- **关系图**: [10-class-diagrams.md](./10-class-diagrams.md)
- **调用树图**: [14-method-call-chains.md](./14-method-call-chains.md)

### 流程分析
- **启动流程**: [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md)
- **请求处理流程**: [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md)
- **LLM 调用分析**: [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md)
- **方法调用链**: [14-method-call-chains.md](./14-method-call-chains.md)

### 性能优化
- **LLM 调用优化**: [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md)
- **Token 消耗分析**: [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md)
- **缓存机制**: [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md), [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md)
- **场景对比**: [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md), [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md)

## 按文件路径查找

### Core
- **src/parlant/core/guidelines.py**: [02-core-models.md](./02-core-models.md), [03-storage-layer.md](./03-storage-layer.md)
- **src/parlant/core/journeys.py**: [02-core-models.md](./02-core-models.md), [03-storage-layer.md](./03-storage-layer.md)
- **src/parlant/core/journey_guideline_projection.py**: [06-journey-guideline-projection.md](./06-journey-guideline-projection.md)
- **src/parlant/core/guideline_tool_associations.py**: [02-core-models.md](./02-core-models.md)

### App Modules
- **src/parlant/core/app_modules/guidelines.py**: [04-application-layer.md](./04-application-layer.md)
- **src/parlant/core/app_modules/journeys.py**: [04-application-layer.md](./04-application-layer.md)

### API
- **src/parlant/api/guidelines.py**: [05-api-layer.md](./05-api-layer.md)
- **src/parlant/api/journeys.py**: [05-api-layer.md](./05-api-layer.md)

### Engine
- **src/parlant/core/engines/alpha/guideline_matching/guideline_matcher.py**: [07-engine-integration.md](./07-engine-integration.md)
- **src/parlant/core/engines/alpha/guideline_matching/generic/journey_node_selection_batch.py**: [07-engine-integration.md](./07-engine-integration.md)
- **src/parlant/core/engines/alpha/guideline_matching/generic/common.py**: [06-journey-guideline-projection.md](./06-journey-guideline-projection.md)

## 按问题查找

### 如何启动系统？
- [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md) - 完整启动流程
- [14-method-call-chains.md](./14-method-call-chains.md) - 启动调用链

### 如何处理用户请求？
- [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md) - 完整请求处理流程
- [14-method-call-chains.md](./14-method-call-chains.md) - 请求处理调用链

### 如何创建 Journey？
- [04-application-layer.md](./04-application-layer.md) - JourneyModule.create()
- [08-complete-flow.md](./08-complete-flow.md) - 完整创建流程
- [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md) - 实际创建示例

### 如何执行 Journey？
- [07-engine-integration.md](./07-engine-integration.md) - 引擎集成
- [08-complete-flow.md](./08-complete-flow.md) - 完整执行流程
- [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md) - 实际执行示例

### Journey 如何转换为 Guideline？
- [06-journey-guideline-projection.md](./06-journey-guideline-projection.md) - 投影机制详解

### Journey 和 Guideline 如何协作？
- [09-collaboration-mechanism.md](./09-collaboration-mechanism.md) - 协作机制总结

### 如何存储 Journey？
- [03-storage-layer.md](./03-storage-layer.md) - JourneyVectorStore

### 如何匹配 Guideline？
- [07-engine-integration.md](./07-engine-integration.md) - GuidelineMatcher

### 如何选择下一个节点？
- [07-engine-integration.md](./07-engine-integration.md) - JourneyNodeSelectionBatch
- [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md) - 节点选择详解
- [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md) - 节点选择 LLM 调用

### 如何生成 Mermaid 图表？
- [05-api-layer.md](./05-api-layer.md) - _build_mermaid_chart()

### 如何管理 Journey 生命周期？
- [04-application-layer.md](./04-application-layer.md) - JourneyModule
- [09-collaboration-mechanism.md](./09-collaboration-mechanism.md) - 标签关联模式

### 如何优化性能？
- [08-complete-flow.md](./08-complete-flow.md) - 性能优化点
- [07-engine-integration.md](./07-engine-integration.md) - 节点剪枝、自动返回
- [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md) - LLM 调用优化
- [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md) - 场景性能对比

### LLM 调用了多少次？
- [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md) - 完整 LLM 调用统计
- [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md) - 启动阶段 LLM 调用
- [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md) - 请求阶段 LLM 调用

### Token 消耗是多少？
- [13-llm-invocation-analysis.md](./13-llm-invocation-analysis.md) - Token 消耗详细分析
- [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md) - 各场景 Token 对比

### 方法调用顺序是什么？
- [14-method-call-chains.md](./14-method-call-chains.md) - 完整方法调用链
- [11-weather-agent-startup-flow.md](./11-weather-agent-startup-flow.md) - 启动方法调用
- [12-weather-agent-request-flow.md](./12-weather-agent-request-flow.md) - 请求处理方法调用

## 快速参考

### 常用类
- `Guideline`: [02-core-models.md](./02-core-models.md#guideline)
- `Journey`: [02-core-models.md](./02-core-models.md#journey)
- `JourneyNode`: [02-core-models.md](./02-core-models.md#journeynode)
- `JourneyEdge`: [02-core-models.md](./02-core-models.md#journeyedge)

### 常用方法
- `create_journey()`: [03-storage-layer.md](./03-storage-layer.md#创建-journey)
- `project_journey_to_guidelines()`: [06-journey-guideline-projection.md](./06-journey-guideline-projection.md#核心方法project_journey_to_guidelines)
- `match_guidelines()`: [07-engine-integration.md](./07-engine-integration.md#match_guidelines)

### 常用流程
- 创建流程: [08-complete-flow.md](./08-complete-flow.md#创建-journey-的完整流程)
- 执行流程: [08-complete-flow.md](./08-complete-flow.md#执行-journey-的完整流程)
- 查询流程: [08-complete-flow.md](./08-complete-flow.md#查询-journey-的完整流程)
